language: ruby
rvm:
- 1.9.3
before_install:
- echo -n $EC2_KEY_CHUNK_{0..30} >> ~/.ssh/travis_ci_ec2.base64
- cat ~/.ssh/travis_ci_ec2.base64 | tr -d ' ' | base64 --decode > ~/.ssh/travis_ci_ec2.pem
- echo -n $DEPLOY_KEY_CHUNK_{0..30} >> ~/.ssh/id_rsa.base64
- cat ~/.ssh/id_rsa.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_rsa
- mkdir ~/.chef
- touch ~/.chef/knife.rb
- chmod 600 ~/.chef/knife.rb ~/.ssh/travis_ci_ec2.pem ~/.ssh/id_rsa
install:
- bundle install --without vagrant
- bundle exec berks install
script:
- bundle exec rake travis
after_script:
- bundle exec rake integration:cloud_destroy
env:
  global:
  - secure: T/3THfzdZVBYzj16T7E5SdvJTDqZ6WeKv6UHx/31PEe2gondHYsrRzc6UyLtgLOVYLwBJn4xmg12gUjYngwJBDXnaOrGwON4UZf+7Juf2pJ157DfrC4UtpNtcdlnJOO/nPaPCe2hl9ca+luVTxLHw8nmpD01mo8Jryg6k3PCgeM=
  - secure: Z3iY42Q41Q1N8y5hZ+jQj87HU/q6BBD/ks96ulMEpOxW/GiW2msvu72X22xfhFqJbPahtaEUovOp3b4tkr2sSi4t3kSgA4uC9JLRDNc16ov7GoNGbCrCGjqZ+1hO5PPKuJ2exG98CjiM0GrWcmtnU2DtvOva125w7emlTz6JdyQ=
  - secure: Je3od7puxzQrSGkyJtj+c6QY1d5PK4fqs0Y45cKEtyCoonk6mtUQNiivcWMWUy23T5RlN9LMcMyLVC0Q/F4wwD0CJNsotCfD3AZzxMy+MbejwtcbQmtmZ00JbPWFUQ6aYFtkgSrz7pG86/5iO6R6EnFQeUk3ZeDpMBguFwVw4t8=
  - secure: D4AnHSjIESwtVhHAwIjKDb6c/BNEVzqgqislUXG/btPZRiu7ksMIOdvzFDLvVYJaYlK4cbz0kumQu1tBwYtWVDiU8a5OVH6ZnUzMWQRRcprstlakg2o76wt7EwC3CMw3EI5UYn9NPlqgBLmsiYcy8pKvNNzDaBAkr8L+NvsFw6M=
  - secure: Li3210XHkyBUHq9Zq3c01LfO3X84VwUr/eBbAue1jjJ1xFh+SFaO2fJCnUG6dxd/NDE0F2WGuwk+ctASxZnOx3qh+2KqZAPSqvGNCIid4rOXF4SeBJ92XN4bS0QQDMOQ/tnZU8rcxY+0RBBee1CcVC0IrKk06R8mAl8cUAMuveU=
  - secure: KK+UbP4wMO3O4p21NuUvz1TWBrQmMRxj0NZ3vq4F5bxd2YMNg4gfCXeckHsHoBja/3teIQdlHEd82C8RTG5vhFhKuJxSULpEWYd+yGVU3aum6D9wXSs7IUFdbgmSu1YAQWAUpz26sIWOLS8GJpnpeKpu/mhr/OKMhu+mJjUwRis=
  - secure: TY5XbnkGcX0eIhVuIEX7lFiteBZLHpN77nCaoDK8z4tg93EiIl/c3hnj0fMUmu2d12lOSyAyGtBSitt3RhHXmCleOC8AFqMfTFvn60oYOvny5Scssm5zHNpDXUWnxz22vY/6SL9S3ZvIqIwXQoWvcs6KGyA3a+kXYza086yWgK8=
  - secure: NoIu9qlA59SJXxW3gPEg6WMNKwE4VhM0R8FYsVFhtZxOfjdDbwPvikKjzWYvgptR7DM7PGPUMkGBkLXZGKt5Hk/gacj0ObQyxiN/7QcpffpnH0I70FIi9AA7VTvWvuIiEuNIzxfpd2ONuCv2Xx+6hbYDTy7NoenUlSkx9A8Eawo=
  - secure: NKx/um1pOk0qq9yLs0twAaGCoOQi69vzchURAIQW+s6fzpOnofx7d7v1l7oTdC/OhbPW30KxWnUb7tMgmGoV5cAl0BOq874oYbD01Lcc1SsaT84/N3YnJgAceGT81Dd+OoaAPyXRiJnBlJRKQUqAFHdSkG+jdpvK4RB18+KCJf8=
  - secure: do1qt+VyVYK1tPQxPbnORjVAVPkk2NKdaYom2RVT+Q9U20B19v4eF1WU9rtteupbXTs55jNZ492blBWej6TN9nZOpjzoYyDITgfjX2J/hADSJQVUBWJweeIUtpwO5bJ858jjvNPTsa5jYr/90rsFIgMMQzm74jGkAd0AMAjVYNM=
  - secure: H5RrMuW38L4vIJsyMKMHnCEZ7NEv9vqJTwU5I7d3eCuiYygZJq6Bg7ZaZgiO+S/Ncdc+A4pp9/6PVGhecHx7A2Eoje+6FPAE1b/MMeV4LVX3Ro2XPXwhnt9dFfXakquJYCgEeIJ7Cloo9XTTq8qlSJHDy5BNouUcvgbOYbKXmbI=
  - secure: NdhRIwh4T1g3I/h/cdfMoZwBPVcisGfqJdM0NbiSn6hdxr3XTUpVp5gGnSMJVm6UBIEKmv5EpYpjBdcjj7OY6rjSpS4GIRtqXQzjUt4Z1GB1Ne8jxh++vgg6K1183IwEoVArESdySdAthnyDt36DZrh1PH8txfLNYUBVz4vX2tA=
  - secure: XuZZszbQzNva0YF8AyV798LqBArsM4gqJlSKqqJ1SHtz1Fmg2S0M9t2NVjMTMu3r4cDgiwCFaL6mML8dbGN3rUMGVd2tsjPfpWWUUVxAoJN/RnL2o9+9WH0uVs+FeDaYweeIpRgT42Lh1jBZeSHx5kur4Tn2+15guIMuu4r4gJU=
  - secure: ccvwe4KvH3mxyTOJcQfQSzq0PmiuBxpWiKOIWfQClyWaUpZegQeAst3xHZTkvRl5AnKdGptndKMezNLj7rcwoo1x23zs+e+DWblPs0YVio90QWQv08SD5Yq1OORiivC0c37miGfMwTpluoqgE+4HC/78u8mGHUCddoUyZeClIE4=
  - secure: eq1ORJctBI8N0dD2NocUJgaZt8q5aElKMLQZf98aRJgePk28eHNVyn5NKulpBQZl5MGaklTeY57sb/rbWmjHz+PPCOlC1JZASru3E5C4aUVN7qNePh86JTjahDkamfBdp7MbIt/4i+EBUm2+NzZxv5V5S4co5HzHblRXoXvWZAo=
  - secure: GZ2Q9tkkNPusd8sne4jAZFddfUD8tFQnNM+u2OtnCp1vCWFUVrFbmZLX98V/fpSWRtpe1pKuQUDKzNbQdF7UO6x9jh1dLecM37pUwlTBuROfWMwjf81MP3pcEURPY1/pBrjG458oEdktIUVFg5sruvzSn7nwQ31I0DPp3sF69eo=
  - secure: Z4w31tGhWleKRvjy4hLxKJ71Bcb+ctoHyZOHr9Iyt99IzB2VvSEvufV0zFUaqDqjytLh3eFRLKLBxS3KiBFo5C8J8r4YgrSuungK7Ac1SRcB/NK0tdDndQ5xVcEA5jkgn/U0cG6SWX7VlpbnfneIPHioMYi2R7i84Wz8/UDPXBc=
  - secure: J3sAQqCAXj1avtsNwmg5QL0WDutpcf+NJnVmiUnjCAXK0Ydfu5Vcg/Yd/9QVvhjZLBPZYqXKgT8pUh3EP8myMY77Of4UTXceoB2wly9YM+hcMsasfzyQh/cuLh+OmEWLPJ3PMG0tEN27gIT+H8R5+oRp9HrPT7iFRmESpFi4cCA=
  - secure: CeI3G3QQrR1hsbhLMT/HOZgOAwr24goLy5cQkNoSTcvDDq91MFk+feGnZklCeQZfUpmjbCx3Bo1KjkDBHDkB5ORRQin8Gi8fsIJJ6/vwqQ57aURevGHy5hEhz6YjnoapKJCA8YXyv/uBD/fnBqcm7HOGh38dTLMfacJRqDbYuZk=
  - secure: SFYwhfQcdj6v7BojCNblLvseECQ3YP6/wgddHRF9eCEKAurrHqHor9ZwPBAjc+r+QeyvO8GpL4MrGB4zLFxKGMawJvAMs/0VJtH+xqJJSuBfsHYCwGUDVKpX+e90DnQOT8onxA/oDOKqi1Yhx8qSoh/CaeBR0v2muYf4p0A23Sw=
  - secure: GSYB+/vBrDcs2nuhcrXZdrmEPARNWpWZmfu9hoxhkX5vyAFnX+ryuh+tJI4WR6pKzk8PWlyVURLJyAonJg5i3IkAJAN3+nQ9sYRHC2j6MItyssfwBAzpKaSZHc/t6uFEZCBc7GL4/OHE2XDkMclYUqDLp1wNph3nM/IeNr8pliA=
  - secure: IJ9CP5OonAiu+xJo8YzShP45lOYRWP4C+s3dS3Wsk4qfRcNzl7AW0k0cURkqEH7IXPqu9+089ok+QXuz+H5AqEgw6y0NJKV57IBVa3fuqTbsPHdf59uIouqwa/85e6ftB3lfQUNAH6OpMWWzzLkSkpL92Xgl2LDjIuq5EQt40kQ=
  - secure: GVFIqvcnmyETaQpU13vDQF8aW+TYVLjEe9jZIgGNxeSHymc0cj4DKeOgB5Fer8TUAP1ByKCBo3RPh2xShIKEhLqesudnWMkqvpV7fMBL+ov+pFhnywxt4AHrEK8TRFvzwKJJa13tGAKlUKDlgrziZq//FZPK7ZBdGeNjQWwWVK0=
  - secure: C62NzpBbwnQ56ySmuMT0iMIsQ2bnSRHRvOiKpiwm4g4WEpmeKiNllT/nEq63jBPb6B7WjApn0382hLs1GFJ1X7TEBUwODfgLbAe1iofEZ4AJ8BJ3DcRBUPf9+jAwJI2ORMDZUD+oAaK2pWy2aFMQD7CGwcqlwK/12wzXCS7GSXE=
  - secure: dYditQn9fU0I3dfryHDdVPEZTtEAV+XNcwJJB7A0Jt997znK59UNSBwq6TUgdzzYHBwXPcKM4XuN0s6qT8LZXfqMhymvmWcBaJYiZIq5BzDlGCpHt8Gd1+ZcX5Bytrp0FLv2Pb5ytm3XR/sdUhjeSDYYmMUG6J0bTrnu8LvzZbk=
  - secure: R17M2OkNPy16yxf0UufSTx2s3WHwAjVaKu/Z6WybCjAeNvsjKub2XYSFB8qHQzSaFWc/yaWBXqK9R2dXoHW1wJeUwIlsL9H/0IsKhJ6sXdu0ApiJZwvKK/GUYeH5o9AaZgDxgeshWw4Gdq/9hkWFtAp4k9x1ss/7vnIlZbWUTXI=
  - secure: UzxItvWGy7BE1m9dRRvq6/LMuFjV7iB0uRu2MWfDHTeGb5CTKCAFlmG/hPqj5rV+N/ZhoSg+mhSyMo2gn9t9Z+36yfi8Ihbeb7O5e0bg4vWZc4QSAu3mI5NDm9SZZdeWDCmbuGBYq2zh3YwhROB2gHuxTADSSBIKucyRSoYGh8k=
  - secure: fjb3CA/a9MGUNARayOxBQfJbjZ1054bc0YaDTMc6p3HsTypjddacnRnqpJv5v09qiRZeeNZVJcuyaXlkhkb1F+aJHjqyLcalTVIW0glTzA9sX5bPazIlZcBWIGkeIEK6pTpPWLYKmJ0CKv9xZkpPhN/XDIH8wO7ZtupPb/dp8Ic=
  - secure: BKqcX2vBJ4woM5CZBXj7rDv9WNE03SHlexhrGH1HFYFsLdSUhZhQ5MYcG1IlbtjJPfSG7IXk7NWVoejC4Frg3nZRuxqAU6eBryaJNCf4KH35igUw2RWpbYKKFByXfFWgpg8Ljezx0TW8whxcntANGpQqAqhFTy6ifWWxdXhTz6E=
  - secure: HqIvp4unYthd8CYL8Jcnfwt9CDg40yGx1kmROuWyRxcpTtHkWN2M3CuFLI3iS4cz/beCt5/cIP/dB9cSnt4027KNHq+J7sI5d0zM1Ku7jhKUA5GSHEz8577ana8gOtIDux12LeKTvvGglFnLBD+bDP8n4PjceHIWu/YKuiWw7FM=
  - secure: NJ2FX9Jxa2bvI+GHGLm46UoWex0yEogUY7LcA6VqRTINdkv0tOuiasMEFHNyJR1YhveIXUQiBUzHpZhHiV8uZ7rsFlb2VaK/Xwesf2l+ntdl9R/vYpqRo1V6iS4tx+oob6InNu5CsLRg9zcpdmEP69XKP1c5G0TWvUnTY51bEUI=
  - secure: NOcoEvYBPAkfxIzbOIhvqN2PUEPMalGQHIT/TDwpxhkSSORwEQGiQWoxCjb7zuPWR+a88NNwd3DDTx+CmIwNIkBsCuqAVramn86iCBVwNf7dqOZ8SwMC+7rA6CimbTu7Kcwoghy0ZztCicYwoTj3OW988eDrMSAFvfXNl32PwHE=
  - secure: Yd52FEY0Ou5XcsZPbOdHI9X8ob8lHZ7sjvdyW3SQT+uqG2npyob8/aQ19lDz61FvuC7ab+TCQcnDamV0kYNxhw+pRlYzZXdE1gN7sI7pX+DeLAjq4jqyvZj3bTy12fk6uACsseAWTYybSQkBN6u6aiWwpHPLs1rrL4R6lAHiRkk=
  - secure: fMentyefe69F0A9pO9O9p66Zuvss+Vf12qc+WnXlwscCuKU4DlQZhiW1nu+wpJVuf8Dl2s9ICVITcUeAF+2ThaFyWJqEcl2h17ys3GgcNfPDHXo8iRCHS0v1kgIzRbLVpmG7/v+1xWDFlYTis9Wu6/R3KD37K26/7Q32UuzZD4c=
